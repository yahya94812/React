<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <script>
      // Single Page Apps for GitHub Pages
      // This script takes the current URL and converts the path and query
      // string into a query parameter that the index.html can read.
      // When the browser navigates to the 404 page, this script redirects
      // to the index page with the original path stored in a query param.
      
      const pathSegmentsToKeep = 1; // Keep 1 segment for repo name (e.g., /repo-name)
      
      const l = window.location;
      const pathParts = l.pathname.split('/');
      const basePath = pathParts.slice(0, 1 + pathSegmentsToKeep).join('/');
      const redirectPath = pathParts.slice(1 + pathSegmentsToKeep).join('/');
      
      l.replace(
        l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
        basePath + '/?/' +
        redirectPath +
        (l.search ? '&' + l.search.slice(1) : '') +
        l.hash
      );
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
